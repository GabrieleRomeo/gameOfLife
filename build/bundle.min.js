!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("gameOfLife",[],e):"object"==typeof exports?exports.gameOfLife=e():t.gameOfLife=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){"use strict";n.d(e,"e",function(){return a}),n.d(e,"k",function(){return c}),n.d(e,"g",function(){return l}),n.d(e,"f",function(){return f}),n.d(e,"h",function(){return d}),n.d(e,"j",function(){return p}),n.d(e,"l",function(){return m}),n.d(e,"a",function(){return g}),n.d(e,"d",function(){return v}),n.d(e,"b",function(){return b}),n.d(e,"i",function(){return y}),n.d(e,"c",function(){return w});var i=n(1),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=arguments,a=Math.floor,s=Math.random,c=(Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),u=Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),n=1;n<o.length;n+=1){var i=o[n];if(void 0!==i&&null!==i){i=Object(i);for(var r=Object.keys(Object(i)),a=0,s=r.length;a<s;a+=1){var c=r[a],u=Object.getOwnPropertyDescriptor(i,c);void 0!==u&&u.enumerable&&(e[c]=i[c])}}}return e}}),l=function(t,e){var n=e||t.length;return function e(){for(var i=this,r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];var s=this;return o.length>=n?t.apply(s,o):function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(i,o.concat(n))}}},f=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.reduce(function(t,e){return u(t,r({},e))},r({},t))},h=function t(e,n){var r=function(t){return"Object"===Object(i.o)(t)};return r(e)&&r(n)&&Object.keys(n).forEach(function(i){if(r(n[i])){var o;e[i]||u(e,(o={},o[i]={},o)),t(e[i],n[i])}else{var a;u(e,(a={},a[i]=n[i],a))}}),e},d=function(){for(var t=arguments.length,e=Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.reduce(function(t,e){return h(t,e)},r({},i))},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a(s()*(t-e))+e},m=function(){return"rgba("+p(256)+","+p(256)+","+p(256)+","+Math.random(1.1)+")"},g=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body).querySelector(t)},v=function(t,e){var n=document.createElement(t);return Object(i.g)(e)&&e.appendChild(n),n},b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(Object(i.g)(t)){var r=t.cloneNode(n);return r.id=e,r}return null},y=function(t){return function(e){return window.getComputedStyle(t,null).getPropertyValue(e)}},w=function(t){return function(e,n){return function(){t.style[e]=n}()}}},function(t,e,n){"use strict";n.d(e,"o",function(){return i}),n.d(e,"d",function(){return o}),n.d(e,"c",function(){return l}),n.d(e,"b",function(){return f}),n.d(e,"m",function(){return h}),n.d(e,"l",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"a",function(){return m}),n.d(e,"e",function(){return g}),n.d(e,"g",function(){return v}),n.d(e,"j",function(){return b}),n.d(e,"i",function(){return y}),n.d(e,"h",function(){return w}),n.d(e,"f",function(){return j}),n.d(e,"n",function(){return O});var i=function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)},r=function(t){return function(e){return i(e)===t}},o=function(t){return!r("Null")(t)&&!r("Undefined")(t)},a=function(t,e,n){return+t>=+e&&+t<=+n},s=function(t){if(!o(t))return!1;var e=t.length,n=t.substr(1).split("");return"#"===t.charAt(0)&&((4===e||7===e)&&n.reduce(function(t,e){var n=a(e,"a","f"),i=a(e,"0","9");return!(!n&&!i)&&t},!0))},c=function(t){if(!o(t))return!1;var e=t.split("rgb(").join("").split(")").join(""),n=e.split(",");return 3===n.length&&n.reduce(function(t,e){return!!a(e.trim(),"0","255")&&t},!0)},u=function(t){if(!o(t))return!1;var e=t.split("hsl(").join("").split(")").join(""),n=e.split(",");return 3===n.length&&(!!a(n[0].trim(),0,360)&&(!!a(n[1].trim(),0,1)&&!!a(n[2].trim(),0,1)))},l=function(t){return s(t)||c(t)||u(t)},f=r("HTMLCanvasElement"),h=r("String"),d=r("Object"),p=r("Number"),m=r("Boolean"),g=r("Function"),v=function(t){return/HTML/.test(t)},b=function(t){return r("Number")(t)&&parseInt(t,10)===t},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1];return function(n){return n>=t&&n<=e}},w=function(t){return document.body.contains(t)},j=function(t){return function(e){return e>t}},O=function(t){return Number.isNaN&&Number.isNaN(t)||t!==t}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(1),a=n(3),s=n(4),c=n(5),u=n(6),l=n(8),f=n.n(l),h={selectors:Object.freeze({gofl:".gofl",timeFrame:"#gofl__timeFrame",frameList:"#gofl__frameList"}),canvas:{width:{defaultValue:800,minValue:200,rules:[o.j,Object(o.f)(200)]},height:{defaultValue:500,minValue:200,rules:[o.j,Object(o.f)(200)]},fullScreen:{defaultValue:!1,rules:[o.a]},showGrid:{defaultValue:!0,rules:[o.a]},showGridAtStartup:{defaultValue:!1,rules:[o.a]},showFps:{defaultValue:!1,rules:[o.a]}},pixel:{height:{defaultValue:10,minValue:1,rules:[o.j,Object(o.i)(1,10)]},width:{defaultValue:10,minValue:1,rules:[o.j,Object(o.i)(1,10)]},bgcolor:{defaultValue:"#000",rules:[o.c]},randomColors:{defaultValue:!1,rules:[o.a]}},randomPixels:{defaultValue:1e3,rules:[o.j,Object(o.i)(0,10)]},timeFrame:{record:{defaultValue:!1,rules:[o.a]},show:{defaultValue:!1,rules:[o.a]},$element:{defaultValue:function(){var t=h.selectors.frameList,e=Object(r.a)(t);return Object(o.d)(e)||(e=Object(r.d)("DIV")),e},rules:[o.h]},useSnapshots:{defaultValue:!1,rules:[o.a]},snapshots:{scale:{defaultValue:.3,minValue:.1,rules:[o.k,Object(o.i)(.1,r.k)]},quality:{defaultValue:.5,minValue:.1,maxValue:1,rules:[o.k,Object(o.i)(.1,1)]}}},splash:{showSplash:{defaultValue:!0,rules:[o.a]},text:{defaultValue:"The Game of Life",rules:[o.m]},fontFamily:{defaultValue:"Arial Black",rules:[o.m]},fontSize:{defaultValue:70,rules:[o.j]},isUpperCase:{defaultValue:!0,rules:[o.a]},useMusicEffect:{defaultValue:!0,rules:[o.a]},musicEffect:{path:{defaultValue:"public/light-bulb.wav",rules:[o.m]},volume:{defaultValue:.3,minValue:.1,maxValue:1,rules:[o.k,Object(o.i)(.1,1)]}}}},d=new f.a,p=function(t,e,n,i){for(var o=new Uint32Array(n*e),a=[],s=t;s-=1;){var u=Object(r.j)(n+1),l=Object(r.j)(e+1);a.push(new c.a(u,l,i)),o[u+l*n]=1}return{matrix:o,pixels:a}},m=function(t,e,n){var i=Object(o.k)(t)?t:1,r=e*n,a=10*r/100,s=100*i/r;return s<10?a=i:s>100&&(a=r),Math.floor(a)},g=function(t,e){var n=Object(o.b)(t)?t:Object(r.d)("CANVAS",document.body),i=e.canvas,a=i.width,s=i.height,c=i.fullScreen,u=parseInt(n.getAttribute("width"),10),l=parseInt(n.getAttribute("height"),10),f=Object(o.f)(200),h=Object(o.f)(200),d=a,p=s;return!Object(o.n)(u)&&f(u)&&(d=u),!Object(o.n)(l)&&h(l)&&(p=l),Object(o.d)(c)&&!0===c&&(d=window.innerWidth,p=window.innerHeight),n.width=d,n.height=p,n},v=function(t,e,n){var i=n.splash,o=i.text,s=i.useMusicEffect,c=i.musicEffect,u=e.parentNode,l=Object(r.d)("DIV",u);if(l.setAttribute("style","position:relative"),e.setAttribute("style","z-index:0"),t.setAttribute("style","position:absolute;top:0;z-index:10"),t.classList.add("gofl__animation"),!0===s){var f=Object(r.d)("AUDIO",document.body),h=Object(r.d)("SOURCE",f);f.setAttribute("autoplay",""),f.volume=c.volume,h.setAttribute("src",""+c.path)}l.appendChild(t),l.appendChild(e),Object(a.a)(t,o,n)},b=function(t){var e=Object(r.h)({},t.config),n=t.$canvas,i=t.config.pixel,o=Object(r.e)(n.width/i.width),a=Object(r.e)(n.height/i.height);return e.canvas.cols=o,e.canvas.rows=a,e},y=function(t){var e=t.canvas,n=e.cols,i=e.rows,r=t.pixel,o=t.randomPixels,a=m(o,i,n),s=p(a,i,n,r);return{pixels:s.pixels,matrix:s.matrix,cols:n,rows:i}},w=function(t,e,n,i){for(var r=t.getContext(),o=e*i.height,a=n*i.height,s=n,c=e;s-=1;)r.translate(.5,0),r.save(),r.beginPath(),r.strokeStyle("rgba(0, 0, 0, 1)"),r.moveTo(0,s*i.height),r.lineTo(o,s*i.height),r.lineWidth(1),r.stroke(),r.restore(),r.translate(-.5,0);for(;c-=1;)r.translate(.5,0),r.save(),r.beginPath(),r.strokeStyle("rgba(0, 0, 0, 1)"),r.moveTo(c*i.width,0),r.lineTo(c*i.height,a),r.lineWidth(1),r.stroke(),r.restore(),r.translate(-.5,0);t.renderOnCanvas()},j=function(t,e){var n=t.getContext();n.fillStyle("black"),n.fillRect(n.canvas.width-100,0,100,30),n.font("13pt monospace"),n.fillStyle("red"),n.fillText("fps: "+e.toFixed(1),n.canvas.width-93,22),t.renderOnCanvas()},O=function(t,e,n){for(var i=n.pixel,o=i.randomColors,a=i.bgcolor,s=i.width,u=i.height,l=e.length||0;l-=1;){var f=e[l],h=f.x,d=f.y,p=!0===o?Object(r.l)():a;new c.a(h,d,{bgcolor:p,width:s,height:u}).render(t)}},x=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.9;return new Promise(function(i,o){var a=Object(r.d)("IMG"),s=Object(r.d)("CANVAS"),c=s.getContext("2d"),u=t.height,l=t.width,f=e*l,h=e*u;s.width=f,s.height=h,s.style.width=f+"px",s.style.height=h+"px",c.imageSmoothingEnabled=!1,c.scale(e,e),c.drawImage(t,0,0);try{s.toBlob(function(t){var e=URL.createObjectURL(t);a.onload=function(){return URL.revokeObjectURL(e)},a.src=e,a.classList.add("gofl__snapshot")},"image/jpeg",n)}catch(t){o(t)}i(a)})},C=function(t,e,n,i){var o={frame__number:t.getFrame(),time:t.getTime(),number_of_Cells:i.length},a=n.timeFrame.useSnapshots,s=n.timeFrame.snapshots,c=s.scale,u=s.quality,l=Object(r.d)("UL"),f=Object(r.d)("LI"),h=Object(r.d)("LI"),d=Object(r.d)("LI"),p=Object(r.d)("LI");return l.classList.add("gofl__log-list"),f.classList.add("gofl__log-item"),h.classList.add("gofl__log-item"),d.classList.add("gofl__log-item"),p.classList.add("gofl__log-item"),f.innerHTML='<span class="gofl__log-itemKey">\n                                Frame Number\n                              </span>\n                              <span class="gofl__log-itemValue">\n                              '+o.frame__number+"\n                             </span>",h.innerHTML='<span class="gofl__log-itemKey">\n                                Time\n                              </span>\n                              <span class="gofl__log-itemValue">\n                              '+o.time+"\n                             </span>",d.innerHTML='<span class="gofl__log-itemKey">\n                                Number Of Cells\n                              </span>\n                              <span class="gofl__log-itemValue">\n                              '+o.number_of_Cells+"\n                             </span>",!0===a&&x(e,c,u).then(function(t){return p.appendChild(t)},function(t){return console.error("Something went wrong",t)}),l.appendChild(f),l.appendChild(d),l.appendChild(h),l.appendChild(p),{frame:o,list:l}},S=function(t,e){var n=t.animation,i=t.$canvas,a=t.config,s=t.frames,c=t.timeFrame,u=Object(r.g)(C)(n,i,a),l=a.timeFrame,f=l.record,h=l.show,d=s[s.length-1];if(!0===f){var p=u(e),m=p.frame,g=p.list;if(Object(o.d)(d)&&m.frame__number===d.frame__number&&m.time===d.time&&m.number_of_Cells===d.number_of_Cells)return;!0===h&&Object(o.d)(g)&&window.requestAnimationFrame(function(){return c.appendChild(g)}),s.push(m)}},_=function(){function t(e,n){i(this,t);var o=this,a=0;this.pixels=[],this.config=Object(s.a)(h,n),this.$canvas=g(e,this.config),this.$splash=Object(r.b)(this.$canvas,"gofl__splash"),this.$splashCSS=Object(r.c)(this.$splash),this.config=b(this),this.buffer=y(this.config),this.frames=[],this.timeFrame=document.createDocumentFragment(),this.animation=new u.a(this.$canvas),!0===this.config.splash.showSplash&&v(this.$splash,this.$canvas,this.config),!0===this.config.canvas.showGridAtStartup&&w(this.animation,this.config.canvas.cols,this.config.canvas.rows,this.config.pixel),this.animation.setStage(function(){var t=this,e=o.config.canvas,n=e.showGrid,i=e.showFps,r=e.cols,s=e.rows;t.getFrame()%10==0&&(a=t.getFps()),d.postMessage({buffer:o.buffer}),d.onmessage=function(e){var c=e.data,u=c.pixels,l=c.matrix;t.frame+=1,t.clear(),O(t,u,o.config),S(o,u),!0===n&&w(t,r,s,o.config.pixel),!0===i&&j(t,a),o.buffer.pixels=u,o.buffer.matrix=l}})}return t.prototype.toDataURL=function(){return this.canvas.toDataURL()},t.prototype.setRandomPixelColor=function(){var t=this.config.pixel.randomColors.randomColors;this.config.pixel.randomColors=!t},t.prototype.start=function(){!1===this.isAnimating()&&(this.$splash.classList.remove("gofl__animation"),this.$splashCSS("opacity",0),O(this.animation,this.buffer.pixels,this.config),S(this,this.buffer.pixels),this.animation.start())},t.prototype.isAnimating=function(){return this.animation.isAnimating()},t.prototype.pause=function(){!0===this.isAnimating()&&(this.$splashCSS("opacity",.1),this.animation.stop())},t.prototype.resume=function(){!1===this.isAnimating()&&(this.$splashCSS("opacity",0),this.animation.start())},t.prototype.stop=function(){var t=this;if(!0===this.isAnimating()){this.animation.stop();var e=this.config.timeFrame.$element;this.timeFrame.childElementCount>0&&(e.innerHTML="",window.requestAnimationFrame(function(){e.appendChild(t.timeFrame),e.parentNode.setAttribute("style","visibility:visible")}))}},t.prototype.startRecording=function(t){Object(o.a)(t)&&(this.config.timeFrame.record=t)},t}();e.default=_},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(0),r=n(1),o=function(t){var e=navigator,n=e.userAgent;if(n&&-1!==n.indexOf("Firefox/4")){var i=t<8?t/2:Math.sqrt(2*t);return 2*Math.ceil(i)}return t},a=function(t,e,n){var r=Object(i.d)("canvas").getContext("2d");r.canvas.width=2*t,r.canvas.height=2*t,r.fillStyle=e,r.fillRect(0,0,t,t),r.fillStyle=n,r.fillRect(t,0,t,t),r.fillStyle=n,r.fillRect(0,t,t,t),r.fillStyle=e,r.fillRect(t,t,t,t);var o=r.createPattern(r.canvas,"repeat");return o.data=r.canvas.toDataURL(),o},s=function(t,e){var n=a(8,"#FFF","#eee"),o=Object(i.d)("IMG");o.width=42,o.height=1,o.src=n.data,o.style.cssText="display: inline";var s=Object(i.a)("#metrics"),c=Object(r.d)(s)?s.firstChild:Object(i.d)("SPAN");Object(r.d)(s)?(s.style.cssText="display: block",c.firstChild.textContent=t):(c.appendChild(document.createTextNode(t)),c.appendChild(o),s=Object(i.d)("div"),s.id="metrics",s.appendChild(c),document.body.insertBefore(s,document.body.firstChild));var u=window.getComputedStyle(document.body,""),l=u.direction;c.style.cssText="font:"+e+"; white-space: nowrap; display: inline;";var f=c.offsetWidth,h=c.offsetHeight;c.style.cssText="font:"+e+"; white-space: nowrap; display: block;";var d=o.offsetTop,p=d-h;c.style.cssText="font:"+e+";\n                          white-space: nowrap;\n                          line-height: 0;\n                          display: block;";var m=o.offsetTop+1;c.style.cssText="font:"+e+"; white-space: nowrap; height: 1em;\n  display: block;",c.firstChild.textContent="";var g=c.offsetHeight;return s.style.display="none",{direction:l,top:d,em:g,middle:m,bottom:p,height:h,width:f}},c=function(t,e,n){var r=n.splash,a=r.fontFamily,c=r.fontSize,u=r.isUpperCase,l=Object(i.i)(t),f=Number.parseInt(l("border-width"),10)||0,h=Number.parseInt(l("padding-width"),10)||0,d=t.getContext("2d"),p=t.width,m=t.height,g=c+"px "+a,v=p/2,b=m/2,y=o(100),w=!0===u?e.toUpperCase():e,j=s(w,g),O=j,x=O.width,C=p/x;C<1.5&&(g=c*C/1.5+"px "+a,j=s(w,g)),v-=j.width/2-f-h,b-=j.height-f-h;var S=b+j.top;d.save(),d.font=g,d.rect(v-y/4,b-y-25,v+j.width,j.height+y+25+20),d.clip(),d.save(),d.fillStyle="#fff",d.shadowColor="rgba(0,0,0,1)",d.shadowOffsetX=j.width+y+30,d.shadowOffsetY=0,d.shadowBlur=y,d.fillText(w,-j.width+v-y,S),d.restore();var _=d.createLinearGradient(0,0,j.width+v-y,0);_.addColorStop(0,"rgba(255, 0, 0, 1)"),_.addColorStop(.15,"rgba(255, 255, 0, 1)"),_.addColorStop(.3,"rgba(0, 255, 0, 1)"),_.addColorStop(.5,"rgba(0, 255, 255, 1)"),_.addColorStop(.65,"rgba(0, 0, 255, 1)"),_.addColorStop(.8,"rgba(255, 0, 255, 1)"),_.addColorStop(1,"rgba(255, 0, 0, 1)"),d.globalCompositeOperation="source-atop",d.fillStyle=_,d.fillRect(v-25,b-25-y,j.width+v+120,j.height+b+25),d.globalCompositeOperation="lighter",d.globalAlpha=.7,d.drawImage(d.canvas,0,0),d.drawImage(d.canvas,0,0),d.globalAlpha=1,d.fillStyle="rgba(255,255,255,0.95)",d.fillText(w,v,S),d.lineWidth=.8,d.strokeStyle="rgba(255,255,255,0.25)";for(var T=10;T-=1;){var A=12.5-25*Math.random(),V=12.5-25*Math.random();d.strokeText(w,A+v,V+S)}d.strokeStyle="rgba(0,0,0,0.20)",d.strokeText(w,v,S),d.restore()}},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(1),r=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,a=function(t,e){return t.reduce(function(t,n){var i=n(e);return t&&i},!0)},s=function(t,e,n){return function(r){if(!Object(i.k)(t))return t;return r<e?e:r>n?n:t}},c=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(e).reduce(function(c,u){var l=e[u],f=l.defaultValue,h=l.rules,d=void 0===h?[]:h;if(Object(i.d)(f)){var p=Object(i.e)(f)?f():f,m=l.minValue,g=l.maxValue,v=s(p,m,g),b=Object(i.d)(n)&&Object(i.d)(n[u])?n[u]:p,y=a(d,b);c[u]=y?b:v(b),Object(i.k)(p)&&(Object(i.d)(m)||Object(i.d)(g))&&(c[u+"_min"]=m||r,c[u+"_max"]=g||o)}else Object(i.l)(l)?c[u]=t(l,n[u],c[u]):c[u]=l;return c},c)}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=n(0),o={height:0,width:0,bgcolor:"#000"},a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments[2];i(this,t),this.x=e,this.y=n,this.config=Object(r.f)({},o,a)}return t.prototype.activate=function(){this.state=1},t.prototype.deActivate=function(){this.state=0},t.prototype.render=function(t){var e=t.getContext(),n=this.config.width,i=this.config.height;e.save(),e.fillStyle(this.config.bgcolor),e.fillRect(this.x*n,this.y*i,n,i),e.restore(),t.renderOnCanvas()},t}();e.a=a},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=n(7),o=n(0),a={},s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.config=Object(o.f)({},a,n),this.canvas=e,this.context=new r.a(this.canvas),this.t=0,this.timeInterval=0,this.startTime=0,this.lastTime=0,this.frame=-1,this.animating=!1,window.requestAnimationFrame=function(t){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||window.mozRequestAnimationFrame||function(){return window.setTimeout(void 0,1e3/60)}}()}return t.prototype.getCanvas=function(){return this.$offScreenCanvas},t.prototype.getContext=function(){return this.context.getContext()},t.prototype.clear=function(){this.context.clear()},t.prototype.setStage=function(t){this.stage=t},t.prototype.renderOnCanvas=function(){this.context.renderOnCanvas()},t.prototype.isAnimating=function(){return this.animating},t.prototype.getFrame=function(){return this.frame},t.prototype.getTime=function(){return this.t},t.prototype.getTimeInterval=function(){return this.timeInterval},t.prototype.getFps=function(){return this.timeInterval>0?1e3/this.timeInterval:0},t.prototype.animationLoop=function(){var t=this,e=new Date,n=e.getTime();this.timeInterval=n-this.lastTime,this.t+=this.timeInterval,void 0!==this.stage&&!0===this.animating&&this.stage(),this.animating&&requestAnimationFrame(function(){return t.animationLoop()})},t.prototype.start=function(){this.animating=!0,this.startTime=(new Date).getTime(),this.lastTime=this.startTime,void 0!==this.stage&&this.stage(),this.animationLoop()},t.prototype.stop=function(){this.animating=!1},t}();e.a=s},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(e){i(this,t),this.canvas=e,this.context=this.canvas.getContext("2d"),this.$offScreenCanvas=this.canvas.cloneNode(),this.ctx=this.$offScreenCanvas.getContext("2d"),this.calls=[],this.initMethods()}return t.prototype.initMethods=function(){var t=this,e={save:function(){return t.ctx.save()},restore:function(){return t.ctx.restore()},beginPath:function(){return t.ctx.beginPath()},closePath:function(){return t.ctx.closePath()},drawImage:function(e,n,i,r,o,a,s,c,u){t.ctx.drawImage(e,n,i,r,o,a,s,c,u)},fill:function(){return t.ctx.fill()},fillStyle:function(e){t.ctx.fillStyle=e},strokeStyle:function(e){t.ctx.strokeStyle=e},font:function(e){t.ctx.font=e},lineTo:function(e,n){return t.ctx.lineTo(e,n)},translate:function(e,n){return t.ctx.translate(e,n)},lineWidth:function(e){t.ctx.lineWith=e},moveTo:function(e,n){return t.ctx.moveTo(e,n)},stroke:function(){return t.ctx.stroke()},rect:function(e,n,i,r){return t.ctx.rect(e,n,i,r)},clearRect:function(e,n,i,r){return t.ctx.clearRect(e,n,i,r)},fillRect:function(e,n,i,r){return t.ctx.fillRect(e,n,i,r)},fillText:function(e,n,i,r){return t.ctx.fillText(e,n,i,r)}},n=this,i=function(t,e){n[t]=function(){for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];n.record(t,r),e.apply(n,r)}};Object.entries(e).forEach(function(t){var e=t[0],n=t[1];i(e,n)})},t.prototype.clear=function(){this.clearRect(0,0,this.$offScreenCanvas.width,this.$offScreenCanvas.height),this.context.clearRect(0,0,this.$offScreenCanvas.width,this.$offScreenCanvas.height)},t.prototype.getContext=function(){return this},t.prototype.getCanvas=function(){return this.$offScreenCanvas},t.prototype.renderOnCanvas=function(t){this.context.drawImage(t||this.$offScreenCanvas,0,0)},t.prototype.assign=function(t,e){this.ctx[t]=e},t.prototype.record=function(t,e){this.calls.push({name:t,args:e})},t.prototype.getCalls=function(){return this.calls},t}();e.a=r},function(t,e){t.exports=function(){return new Worker("./build/buffer.worker.js")}}])});